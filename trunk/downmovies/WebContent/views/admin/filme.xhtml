<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="../modelo/template.xhtml">
    <ui:define name="conteudo">
      <div class="center_content">
      <h:form id="form" enctype="multipart/form-data">
      	
			<p:messages showDetail="false" showSummary="true" autoUpdate="true"/>
			
            <p:panel header="Filme"> 
					<h:panelGrid columns="2" columnClasses="label, value"
						styleClass="formulario">
            		
                 		
                   			<h:outputLabel value="Título:" />
							<p:inputText value="#{filmeManagedBean.filme.titulo}" id="titulo" size="50"
								required="true"  requiredMessage="Título é obrigatorio" maxlength="50">
								<f:validateLength maximum="50" minimum="1" />
							</p:inputText>
						
	                    	<h:outputLabel value="Diretor:"  />
							<p:inputText value="#{filmeManagedBean.filme.diretor}" id="diretor" size="50"
								required="true" requiredMessage="Diretor é obrigatorio" maxlength="50">
								<f:validateLength maximum="50" minimum="1" />
							</p:inputText>
	
							<h:outputLabel value="Categoria:" for="categoria" />
							<p:selectOneMenu  requiredMessage="Categoria é obrigatorio" value="#{filmeManagedBean.filme.categoria}" converter="CategoriaConverter"
								id="categoria" required="true" effect="fade">
									<f:selectItem itemLabel=""/>	
									<f:selectItems value="#{categoriaManagedBean.categorias}" var="categoria"  itemValue="#{categoria}" itemLabel="#{categoria.descricao}"  />
							</p:selectOneMenu>						

							<h:outputLabel value="Ano Lançamento:" for="ano_lancamento" />
							<p:inputText  requiredMessage="Ano Lançamento é obrigatorio" value="#{filmeManagedBean.filme.anoLancamento}" size="4"
								id="ano_lancamento" required="true" maxlength="4">
								<f:validateLongRange minimum="10" />
							</p:inputText>

							<h:outputLabel value="Idioma:"  />
							<p:selectOneMenu  requiredMessage="Idioma é obrigatorio" value="#{filmeManagedBean.filme.idioma}"
								id="idioma" required="true" editable="true" effect="fade">
								<f:selectItem itemLabel="Português/Ingles" itemValue="Português/Ingles" />
								<f:selectItem itemLabel="Português" itemValue="Português" />
								<f:selectItem itemLabel="Inglês" itemValue="Inglês" />
								<f:selectItem itemLabel="Não disponível"
									itemValue="Não disponível" />
							</p:selectOneMenu>

							<h:outputLabel value="legenda:" />
							<p:selectOneMenu  requiredMessage="Legenda é obrigatorio" value="#{filmeManagedBean.filme.legenda}"
								id="legenda" required="true" editable="true" effect="fade">
								<f:selectItem itemLabel="Português/Ingles" itemValue="Português/Ingles" />
								<f:selectItem itemLabel="Português" itemValue="Português" />
								<f:selectItem itemLabel="Inglês" itemValue="Inglês" />
								<f:selectItem itemLabel="Não disponível"
									itemValue="Não disponível" />
							</p:selectOneMenu>

							<h:outputLabel value="Formato:"  />						
							<p:selectOneMenu  requiredMessage="Formato é obrigatorio" value="#{filmeManagedBean.filme.formato}"
								id="formato" required="true" effect="fade">
									<f:selectItem itemLabel=""/>
									<f:selectItems value="#{filmeManagedBean.mapFormato}" var="formato"  itemValue="#{formato}" itemLabel="#{formato}"  />									
							</p:selectOneMenu>

							<h:outputLabel value="Qualidade:" for="qualidade" />
							<p:selectOneMenu  requiredMessage="Qualidade é obrigatorio" value="#{filmeManagedBean.filme.qualidade}"
								id="qualidade" required="true" effect="fade">
									<f:selectItem itemLabel=""/>
									<f:selectItems value="#{filmeManagedBean.mapQualidade}" var="qualidade"  itemValue="#{qualidade}" itemLabel="#{qualidade}"  />
							</p:selectOneMenu>
							
							<h:outputLabel value="Tamanho (em MB - MegaByte):"
								for="tamanho" />
							<p:inputText  requiredMessage="Tamanho é obrigatorio" value="#{filmeManagedBean.filme.tamanho}"
								id="tamanho" required="true">
								<f:validateLongRange minimum="1" />
							</p:inputText>
							
							<h:outputLabel value="Tempo de Duração(em minutos):"
								for="tempo_duracao" />
							<p:inputText  requiredMessage="Tempo de Duração é obrigatorio" value="#{filmeManagedBean.filme.tempoDuracao}"
								id="tempo_duracao" required="true">
								<f:validateLongRange minimum="1" />
							</p:inputText>
		

							<h:outputLabel value="Descrição:" for="descricao" />
							<p:inputTextarea value="#{filmeManagedBean.filme.descricao}"  requiredMessage="Descrição é obrigatorio" autoResize="" cols="80" rows="7"
								id="descricao" required="true"  >
								<f:validateLength minimum="1" />
							</p:inputTextarea>

							<h:outputLabel value="Selecionar Torrent:" />
							<p:fileUpload value="#{filmeManagedBean.arqFilme}"   mode="simple"  
										    requiredMessage="Arquivo é obrigatório" allowTypes="/(\.|\/)(torrent)$/" sizeLimit="1000" required="true"  
										    styleClass="alignLeft margin-5l" label=" Procurar " id="fileUploadTorrent" >
										   
							</p:fileUpload>

							<h:outputLabel value="Selecionar Imagem:" />
							<p:fileUpload value="#{filmeManagedBean.arqImagem}" mode="simple"
										     requiredMessage="Arquivo é obrigatório" sizeLimit="1000000"
										      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"  required="true"  
										    styleClass="alignLeft margin-5l" label=" Procurar " id="fileUploadImagem">
							</p:fileUpload>

                </h:panelGrid>                  
            </p:panel>  
            
            <p:commandButton value="Cadastrar"    ajax="false"
                            actionListener="#{filmeManagedBean.cadastraFilme}" />
                                        
            <p:commandButton value="Voltar"    action="index.xhtml" immediate="true"/>
   
	</h:form>
      
    </div><!-- end of center content -->
    </ui:define>
  	</ui:composition>

</html>