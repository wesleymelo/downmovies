<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:composition template="../modelo/template.xhtml">
    <ui:define name="conteudo">
      <div class="center_content">
		
			<h:form>
				<!-- Button -->
				<div class="float-float">
					
					<p:commandLink action="filme.jsf?faces-redirect=true">	<p:graphicImage value="../images/plus.png" alt="Novo Filme" style="border:0px;" /></p:commandLink>
					
				</div>
				<br/><br/>
				
				<p:dataTable   value="#{filmeManagedBean.filmes}" var="filme" widgetVar="filmesTable"
					emptyMessage="Nenhum filme encontrado" filteredValue="#{filmeManagedBean.filteredFilmes}" >
	
					<f:facet name="header">  
			            <p:outputPanel>  
			                <h:outputText value="Procurar:" />  
			                <p:inputText id="globalFilter" onkeyup="filmesTable.filter()" style="width:150px" />  
			            </p:outputPanel>  
		        	</f:facet>  
	
	
					<f:facet name="header">Lista de Filmes</f:facet>
					
					<p:column headerText="#" sortBy="#{filme.idFilme}">
						#{filme.idFilme}
					</p:column>
					
					<p:column headerText="Título" sortBy="#{filme.titulo}">
						#{filme.titulo}
					</p:column>
					
					<p:column headerText="Diretor" sortBy="#{filme.diretor}">
						#{filme.diretor}
					</p:column>
					
					
					<p:column headerText="Ano de Lançamento" sortBy="#{filme.anoLancamento}">
						#{filme.anoLancamento}
					</p:column>
				
					<p:column headerText="Idioma" sortBy="#{filme.idioma}">
						#{filme.idioma}
					</p:column>
					
					<p:column headerText="Formato" sortBy="#{filme.formato}">
						#{filme.formato}
					</p:column>
					
					<p:column headerText="Tempo de Duração" sortBy="#{filme.tempoDuracao}">
						#{filme.tempoDuracao} minutos
					</p:column>
					
					<p:column headerText="Ações">
					
						<h:commandLink actionListener="#{filmeManagedBean.excluir}">
							<f:attribute name="filme" value="#{filme}" />
							<h:graphicImage value="../images/delete.png" title="Excluir" style="border: none" />
						</h:commandLink>
					
						<h:commandLink action="filme">
							<f:setPropertyActionListener target="#{filmeManagedBean.filme}" value="#{filme}" />
							<h:graphicImage value="../images/edit.png" title="Editar" style="border: none" />
						</h:commandLink>
						
					</p:column>
					
				</p:dataTable>
			</h:form>
      
    </div><!-- end of center content -->
    </ui:define>
  	</ui:composition>

</html>